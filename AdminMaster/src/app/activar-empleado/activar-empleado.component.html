<main class="activar-wrapper">
  <section class="activar-card" style="max-width: 520px;">
    <h1 class="titulo">
      <i class="bi bi-person-badge-fill me-2"></i>
      <span>Activar Cuenta de Empleado</span>
    </h1>
    <p class="subtitulo" *ngIf="correo">
      Estás activando la cuenta asociada a <strong>{{ correo }}</strong>
    </p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label class="form-label">Nueva contraseña</label>
        <div class="position-relative">
          <input
            [type]="mostrarPassword ? 'text' : 'password'"
            formControlName="password"
            class="form-control pe-5"
          >
          <button type="button" class="btn-icon-password" (click)="toggleMostrarPassword()">
            <i class="bi" [ngClass]="mostrarPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
          </button>
        </div>
        <div class="mt-2 small">
          <p [ngClass]="passHasMinLength ? 'text-success' : 'text-danger'">
            • Mínimo 10 caracteres.
          </p>
          <p [ngClass]="passHasMinLetters ? 'text-success' : 'text-danger'">
            • Al menos 6 letras.
          </p>
          <p [ngClass]="passHasMinDigits ? 'text-success' : 'text-danger'">
            • Al menos 4 números.
          </p>
          <p [ngClass]="passHasNoSpaces ? 'text-success' : 'text-danger'">
            • Sin espacios (se permiten letras, números y signos).
          </p>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Confirmar contraseña</label>
        <input
          type="password"
          formControlName="confirmPassword"
          class="form-control"
        >
        <div class="mt-2 small">
          <p [ngClass]="confirmValue ? 'text-success' : 'text-danger'">
            • La confirmación es obligatoria.
          </p>
          <p [ngClass]="!passwordMismatch && confirmValue ? 'text-success' : 'text-danger'">
            • Las contraseñas deben coincidir.
          </p>
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-2" [disabled]="form.invalid || passwordMismatch">Activar Cuenta</button>
    </form>
  </section>
</main>
