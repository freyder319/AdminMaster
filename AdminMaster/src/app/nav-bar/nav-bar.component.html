<main>
  <nav class="navbar" [ngClass]="{'scrolled': scrolled}" id="mainNavbar"> <!-- quitamos fixed-top -->
    <div class="container-fluid d-flex justify-content-between align-items-center">

      <!-- Logo centrado -->
      <a class="navbar-brand me-auto" href="#" title="logo">
        <img [src]="logoUrl || '../../assets/img/Logo-removebg-preview.png'" alt="Logo" width="125" height="90">
      </a>

      <!-- Botón de menú (derecha) con dropdown compacto -->
      <div class="dropdown ms-auto">
        <button class="btn btn-link d-flex align-items-center gap-1"
                [ngClass]="isLogin ? 'text-brown' : ((isPqrs && !scrolled) ? 'btn-pqrs' : 'text-white')"
                id="menuDropdownButton" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <span class="navbar-toggler-icon" [ngClass]="isLogin ? 'toggler-brown' : ((isPqrs && !scrolled) ? 'toggler-pqrs' : 'text-white')"></span> Menú
        </button>

        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="menuDropdownButton">
          <li>
            <a class="dropdown-item" href="#" (click)="navigateAndReload('/products'); $event.preventDefault()" [ngClass]="{ 'active': isActive('/products') }">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 7l9-4 9 4v10a2 2 0 0 1-2 2h-4v-6H9v6H5a2 2 0 0 1-2-2V7z"/>
              </svg>
              Productos
            </a>
          </li>
          <li>
            <a class="dropdown-item" href="#" (click)="navigateAndReload('/donde-estamos'); $event.preventDefault()" [ngClass]="{ 'active': isActive('/donde-estamos') }">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/>
              </svg>
              Dónde Estamos
            </a>
          </li>
          <li>
            <a class="dropdown-item" href="#" (click)="navigateAndReload('/pqrs'); $event.preventDefault()" [ngClass]="{ 'active': isActive('/pqrs') }">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21 6h-2v9H7v2a1 1 0 0 0 1 1h9l4 4V7a1 1 0 0 0-1-1zM17 2H3a1 1 0 0 0-1 1v14l4-4h11a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"/>
              </svg>
              PQRS
            </a>
          </li>
          <li>
            <a class="dropdown-item" href="#" (click)="navigateAndReload('/login'); $event.preventDefault()" [ngClass]="{ 'active': isActive('/login') }">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M10 2a2 2 0 0 1 2 2v2h-2V4H6v16h4v-2h2v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4zm7 7-3 3 3 3v-2h4v-2h-4V9z"/>
              </svg>
              Login
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</main>

<!-- (Se removió el modal; ahora se usa dropdown compacto) -->

<script>
// Detectar scroll y cambiar estilo del navbar
window.addEventListener("scroll", function () {
  const navbar = document.getElementById("mainNavbar");
  if (window.scrollY > 50) {
    navbar.classList.add("scrolled");
  } else {
    navbar.classList.remove("scrolled");
  }
});
</script>